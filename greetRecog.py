#responding from a sentence on an introduction + choosing other (joke, funfact, etc)
import random

from DataAPI import getOpenDB, openDBCats

userInput = input("Hello, Human, Can you tell me your name? \n")

userWords = userInput.split()

words = ["My","my","name","is","I","i","am","Hello,","hello,","hey,","Hey,","hi,","Hi,",
         "Howdy","howdy","sup","Sup","sup,","Sup,"] #Single out the name

userName = ""
for i in range(len(userWords)):     #iterate throught the user's words
    foundWord = False               #sets True when there's a similar word in the other list
    for word in range(len(words)):  #iterates and compares the chosen word from the user's list of words to the words list
        if userWords[i] == words[word] and foundWord == False:
            foundWord = True
    if foundWord == False:
        userName = userName + userWords[i] + " "

print("Hello, " + str(userName.title()) + "... Nice to meet you! \n")

#picking out a subject
randomStuff = ["Cherophobia is the fear of fun","A flock of crows is called a murder",
               "A single cloud can weight more than 1 million pounds",
               "A crocodile can't stick it's tongue out","A shrimp's heart is in it's head",
               "A pregnant goldfish is called a twit","Rats and horses can't vomit.",
               "If you sneeze too hard, you can fracture a rib.",]
#----------------------------------------------------------------------------------------------- change START
while True:
    cats = openDBCats(True)
    print("--- Categories ---")
    for i in range(3):
        print(random.choice(cats))
    userInput = input("Please, pick a subject: \n").casefold()


    if userInput == "stop":
        break
    elif userInput != "other":
        print("You have chosen: " + userInput.title())
        print("##############################")
        #Input question here XD

    

        question, answer, w, t = getOpenDB(userInput, "easy")
    
        userAnswer = input(question)
        if userAnswer.lower() == answer.lower():
            print("Wehey \n")
        elif userAnswer.lower() != answer.lower():
            print("This is not the answer fool! \n")
            print(answer + "\n")


#----------------------------------------------------------------------------------------------- change END
#changes - introduced a while loop
            
    elif userInput == "other":
        print("You have chosen: " + userInput.title())
        print("##############################")
        userInput = input("Want to hear a joke, fun fact or something random? \n")
        if userInput == "Yes" or userInput == "yes":
            print(random.choice(randomStuff) + "\n")
#
